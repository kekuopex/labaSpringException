
Основы фреймворка Spring MVC
Работа с набором данных по странам

Требуется написать программу для получения данных по странам. На начальной странице пользователь выбирает один из континентов. 
Ему показывается список стран (в виде таблицы), расположенных на указанном континенте. При выборе конкретной страны выводится страница с детальной информацией.

Реализация программы представляется в несколько этапов:

    Создание проекта, создание контроллера по умолчанию.
    Создание и обработка списка выбора с континентами.
    Формирование списка стран и вывод в виде таблицы (каждая из строк представляет ссылку на соответствующую страну).
    Вывод информации о стране: код, название, континент, население, площадь.
    Реализация дополнительных механизмов Spring MVC.

Структура класса Country

public class Country {
    private String code;
    private String name;
    private String continent;
    private Double surfaceArea;
    private Integer population;

    //constructor, getters and setters are here
}

NB В классе должен присутствовать полный конструктор

Интерфейс для поиска стран ICountryRepository

public interface ICountryRepository {
    Country findByCode(String code);
    List<Country> findByContinent(String continent);    
    List<Country> findByContinentAndNameStartingWith(String continent, String name);
    List<Country> findByContinentAndPopulationGreaterThanEqual(String continent, Integer population);
    Country findByName(String name);
    List<String> getContinents();    
}

1. Структура поиска

Получение списка континентов, стран и информации о странах осуществляется с помощью класса CountryRepository. В нем содержатся данные по странам и набор методов для запросов. Данный класс должен быть объявлен как репозиторий или соответствующий bean прописан в файле applicationContext. Обратите внимание, что методы класса требуют дополнительной реализации.

Для поиска стран потребуется реализация объекта поиска и формы поиска, отображающей этот объект.

public class CountrySearch {
    private String name;
    private String continent;
    private Integer population;

    //constructors and some methods are here
}

Поиск может осуществляться по следующим сценариям:

    По континенту (список выбора).
    По континенту и началу названия страны (требуется проверка, что название не содержит неалфавитные символы).
    По континенту и населению страны в режиме поиска больше либо равно (требуется проверка на отрицательные значения).

Структуру взаимодействия классов для организации поиска необходимо придумать самостоятельно.
Формирование списка стран

Для отображения списка стран можно воспользоваться циклом на html-странице:

<tr th:each="country : ${countries}">
  <td th:text="${country.name}">Name</td>
  <td th:text="${country.continent}">Continent</td>                    
</tr>	

Разумеется, для этого в модель должен быть передан список стран в коллекции countries. Также в этом цикле требуется реализация кода по формированию ссылок для get-запроса (параметр запроса или часть URI)
2. Обработка параметров get-запроса

Переход к выбранной стране осуществляется через передачу ее кода как часть url-адреса. Например

http://localhost:8080/world/country/PRY

Для получения данных потребуется следующий заголовок метода в контроллере:

@RequestMapping(value="/country/{code}")
public String getCountry(Model model, @PathVariable("code") String code){
 //code here
}

3. Проверка ошибок

Реализуйте в проекте проверку двух типов ошибок: переход по несуществующей странице и переход к стране с несуществующим кодом. 
Пользователю должны выдаваться различные сообщения по этим ошибкам. Для описания второго случае реализуйте собственный класс с описанием исключения:

 
public class CounrtyNotFoundException extends RuntimeException{
    public CounrtyNotFoundException(String errorMessage){
        super(errorMessage);
    }
    // Another class constructor can be located here 
}

Добавьте класс для перехвата исключений, возникающих в программном коде проекта. Для этого нужно написать класс, с аннотацией @ControllerAdvace. 
Метод этого класса должен обрабатывать ошибку с отсутствующей страной и формировать соответствующее представление.

Добавьте в проект представление error.html с информацией об ошибке отсутствия страницы.

4. Конвертер

Для эффективного использования методов контроллера попробуйте реализовать для указанных выше обработчиков конвертер по преобразованию идентификаторов (кодов) стран в объекты Country. 
Таким образом, в обработчик контроллера будет приходить либо уже готовый полученный объект, либо пустая ссылка (null), что говорит о неверном коде страны.

5.
Extra Credit. Асинхронные запросы

Добавьте к проекту страницу, формирование списка стран на которой происходило бы в фоновом режиме без ее перезагрузки (AJAX-запросы).
Файл с проектом на различных его этапах нужно продемонстрировать преподавателю на занятии и ответить на его вопросы.
